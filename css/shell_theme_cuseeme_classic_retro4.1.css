/* =========================================================
   CUSeeMe Modular — Retro 4.1 Aqua-Glass HUD
   ========================================================= */

/* ===== Retro 4.2 — fixes: HUD pos, prompt overlay, mini portrait, glass look ===== */
:root{
  --hud-glass: rgba(245, 252, 255, 0.62);
  --hud-stroke: rgba(0,0,0,0.20);
  --hud-edge: rgba(255,255,255,0.85);
  --hud-shadow: 0 18px 45px rgba(0,0,0,0.28);
  --btn-grad-top: #f4f6f9;
  --btn-grad-bot: #d6dbe2;
  --btn-on-top:  #ffd6d6;
  --btn-on-bot:  #ff9da0;
  --text: #2a2f33;
}

/* Main video will be framed by a wrapper (added via JS) */
#mainFrame{
  position: fixed; z-index: 0;
  left: 50%; top: 8vh; transform: translateX(-50%);
  width: min(92vw, 1100px); height: min(74vh, 700px);
  background: linear-gradient(180deg,#f8fafc,#eef2f7);
  border-radius: 18px;
  border: 1px solid var(--hud-stroke);
  box-shadow: var(--hud-shadow), inset 0 1px 0 var(--hud-edge);
  overflow: hidden;
}
#cameraMain{
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  transform: scaleX(-1);   /* default mirror */
}

/* HUD — upper-right glass */
#hud{
  position: fixed; top: 16px; right: 16px; z-index: 1000;
  display: grid; gap: 10px; grid-auto-rows: min-content;
  min-width: 280px; padding: 14px 16px 16px;
  background: var(--hud-glass);
  backdrop-filter: blur(14px) saturate(1.1);
  border: 1px solid var(--hud-stroke);
  border-radius: 16px;
  box-shadow: var(--hud-shadow);
  color: var(--text);
}
.hud-top{height: 18px;} /* reserved title band */
.hud-row{display:flex; gap:10px; justify-content:space-between}
.hud-btn{
  flex:1; padding:10px 12px; border-radius:10px; font:600 15px/1.1 ui-monospace,Menlo,monospace;
  color: var(--text); letter-spacing:.3px;
  background: linear-gradient(var(--btn-grad-top), var(--btn-grad-bot));
  border: 1px solid rgba(0,0,0,.25);
  box-shadow: inset 0 1px 0 #fff8, inset 0 -1px 0 #0001, 0 4px 16px rgba(0,0,0,.08);
  transition: transform .06s ease, box-shadow .12s ease, background .2s ease;
}
.hud-btn:active{ transform: translateY(1px); box-shadow: inset 0 1px 0 #fff5, inset 0 -1px 0 #0002; }
.hud-btn.active{ background: linear-gradient(var(--btn-on-top), var(--btn-on-bot)); }

/* Prompt — centered frosted pill */
#promptWrap{
  position: fixed; inset: 0; z-index: 900;
  display: flex; align-items: center; justify-content: center; pointer-events: none;
}
#promptBox{
  pointer-events: auto;
  display:flex; align-items:center; gap:10px;
  padding: 10px 16px; min-width: 280px; max-width: 80vw;
  background: rgba(255,255,255,.22);
  border: 1px solid rgba(0,0,0,.18);
  border-radius: 12px; backdrop-filter: blur(8px);
  box-shadow: 0 12px 34px rgba(0,0,0,.26);
}
#caret{ width:.35ch; height:1.25em; background:#222; animation: blink 1s step-end infinite; }
@keyframes blink{50%{opacity:0}}
#input{
  background: transparent; border: none; outline: none; color:#222;
  font: 600 18px/1.2 ui-monospace,Menlo,monospace; width: 22ch;
}
#input::placeholder{ color: #2227; }

/* Mini window — portrait, draggable, hidden by default */
#miniWin{
  position: fixed; left: 8vw; top: 12vh; z-index: 800;
  width: 28vw; max-width: 420px; aspect-ratio: 9/16; display: none;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(0,0,0,.22);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.30);
  backdrop-filter: blur(12px);
  overflow: hidden; cursor: grab;
}
#miniWin:active{ cursor: grabbing; transform: translateY(-1px); }
#miniBar{
  height: 26px; display:flex; align-items:center; justify-content:space-between;
  padding: 0 10px; background: linear-gradient(#eceff4,#dfe4ea);
  font: 600 12px/1 ui-monospace,Menlo,monospace; color:#333; border-bottom:1px solid rgba(0,0,0,.15);
}
#miniTitle{opacity:.75}
#miniBtns{display:flex; gap:6px}
.win-dot{width:6px; height:6px; border-radius:50%; background:#888; opacity:.7}
#miniInner{position:relative; width:100%; height:calc(100% - 26px)}
#cameraMini{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transform:scaleX(-1);}

/* Ticker */
#ticker{
  position: fixed; left: 12px; bottom: 12px; z-index: 850;
  width: 42vw; max-width: 640px; max-height: 56vh; overflow: hidden;
  display: flex; flex-direction: column-reverse; pointer-events: none;
  color: #ff4433; font: 600 18px/1.25 ui-monospace,Menlo,monospace; opacity: .95;
}
.tline{opacity:.95; margin:0; animation: tlIn .6s ease forwards;}
@keyframes tlIn{from{opacity:0; transform: translateY(8px)} to{opacity:.95; transform:none}}
