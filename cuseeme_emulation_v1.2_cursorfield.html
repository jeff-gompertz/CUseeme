<!-- === cuseeme_emulation_v1.2_cursorfield.html === -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>CUCME Emulation v1.2 — Cursor Field</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:#fff;
  overflow:hidden;
  font-family:system-ui, monospace;
}

/* Fullscreen live camera */
#mirror{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:0;
  filter:brightness(1.05) contrast(1.05);
}

/* Subtle gradient overlay — reduced diffusion */
#overlay{
  position:fixed;
  inset:0;
  background:linear-gradient(to bottom, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.02) 40%, rgba(255,255,255,0.18) 100%);
  z-index:1;
  pointer-events:none;
  mix-blend-mode:screen;
}

/* Prompt input — same size, less blur, blinking cursor only */
#promptWrap{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  z-index:2;
  background:rgba(255,255,255,0.25);
  backdrop-filter:blur(6px);
  border:none;
  border-radius:25px;
  padding:0.8rem 1.5rem;
  width:260px;
  box-shadow:0 0 12px rgba(255,255,255,0.3);
  display:flex;
  align-items:center;
  justify-content:flex-start;
}

/* Input field */
#input{
  border:none;
  outline:none;
  background:transparent;
  color:#111;
  font-size:1rem;
  width:100%;
  font-family:inherit;
  text-align:left;
  caret-color:transparent; /* hide default caret */
}

/* Custom blinking cursor */
#cursor{
  width:0.6ch;
  height:1em;
  background:#fff;
  margin-left:0.1rem;
  animation:blink 1s step-end infinite;
}
@keyframes blink{50%{opacity:0}}

/* Permission message */
#notice{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  background:rgba(255,255,255,0.9);
  z-index:5;
  font-size:1.2rem;
  color:#333;
}
</style>
</head>
<body>

<video id="mirror" autoplay playsinline muted></video>
<div id="overlay"></div>

<div id="promptWrap">
  <input id="input" type="text" />
  <div id="cursor"></div>
</div>

<div id="notice">Allow camera to activate field?</div>

<script>
(async () => {
  const video = document.getElementById('mirror');
  const notice = document.getElementById('notice');
  const input = document.getElementById('input');

  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video:true, audio:false });
    video.srcObject = stream;
    notice.style.display = 'none';
  } catch (err) {
    notice.textContent = 'Camera access denied or unavailable.';
    console.warn('Camera error:', err);
  }

  // keep cursor visible while typing
  input.addEventListener('input', () => {
    document.getElementById('cursor').style.display = 'inline-block';
  });
})();
</script>

</body>
</html>
