<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CUSeeMe FLOAT Slideshow ‚Äî Header Navigation</title>
<style>
:root{
  --bg:#0b0c0e;
  --ink:#e6e7ea;
  --muted:#6b6f77;
  --accent:#00ff66;
  --fade:0.6s;
}
html,body{
  margin:0;height:100%;
  background:var(--bg);color:var(--ink);
  font:16px/1.45 "VT323",ui-monospace,Menlo,Consolas,monospace;
  overflow:hidden;
}

/* === Slide crossfade frames === */
#stageWrap{position:fixed;inset:0;}
.slideFrame{
  position:absolute;inset:0;width:100%;height:100%;
  border:none;opacity:0;
  transition:opacity var(--fade) ease;
  pointer-events:none;
}
.slideFrame.active{opacity:1;pointer-events:auto;}

/* === HEADER NAVIGATION BAR === */
#navHeader {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 46px;
  background: rgba(12,14,16,0.7);
  backdrop-filter: blur(12px) saturate(1.2);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 16px;
  z-index: 9999;
  font-family: "VT323", monospace;
  user-select: none;
}
.nav-btn {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 6px;
  color: var(--accent);
  font-size: 22px;
  width: 42px; height: 30px;
  display: grid; place-items: center;
  cursor: pointer;
  transition: all .25s ease;
}
.nav-btn:hover {
  background: rgba(0,255,100,0.1);
  box-shadow: 0 0 12px rgba(0,255,100,0.25);
}
#floatLabel {
  font-size: 15px;
  color: var(--accent);
  letter-spacing: 1px;
  animation: floatPulse 2.8s ease-in-out infinite;
}
@keyframes floatPulse {
  0%,100% { opacity: 0.8; text-shadow:none; }
  50% { opacity: 1; text-shadow: 0 0 10px rgba(0,255,100,0.35); }
}

/* === HUD index (bottom-left) === */
#hud{
  position:fixed;left:16px;bottom:14px;
  display:flex;gap:12px;align-items:center;
  z-index:10000;
}
#idx{font-size:12px;color:var(--muted)}
</style>
</head>

<body>
<div id="stageWrap">
  <iframe id="frameA" class="slideFrame active"></iframe>
  <iframe id="frameB" class="slideFrame"></iframe>
</div>

<!-- HEADER NAV -->
<div id="navHeader">
  <div class="nav-btn" id="btnPrev">‚Üê</div>
  <div id="floatLabel">‚ßâ FLOAT</div>
  <div class="nav-btn" id="btnNext">‚Üí</div>
</div>

<!-- HUD index -->
<div id="hud"><div id="idx">1 / 1</div></div>

<script>
/* =========================================================
  1) Slide URLs (same-origin)
========================================================= */
const SLIDES = [
  "A/CUseeme_v1.7_dynamic_restyleBLACK.html",
  "a_testCuseeme_modularTemplateRESTYLE.html",
  "a_SingleSharedVideoSplitIntoPanels_live.html",
  "double_tap_additivedissolve_LIVE.html",
  "s_6cards_video_wpmedia_multiFilter_LIVEchatgpt2.html"
];

/* =========================================================
  2) State
========================================================= */
let i = 0;
let front = document.getElementById("frameA");
let back  = document.getElementById("frameB");
const idxEl = document.getElementById("idx");

/* =========================================================
  3) Load + crossfade between iframes
========================================================= */
function show(index){
  const url = SLIDES[index];
  console.log("üéû Loading:", url);
  back.src = url + (url.includes("?") ? "&" : "?") + "v=" + Date.now(); // cache-bust
  back.onload = ()=>{
    back.classList.add("active");
    front.classList.remove("active");
    [front, back] = [back, front];
    idxEl.textContent = `${index+1} / ${SLIDES.length}`;
  };
}

/* =========================================================
  4) Navigation (buttons + keyboard)
========================================================= */
let lastTap = 0;
function debounceTap(){
  const now = performance.now();
  if(now - lastTap < 300) return false;
  lastTap = now; return true;
}
function next(){ if(!debounceTap()) return; i=(i+1)%SLIDES.length; show(i); }
function prev(){ if(!debounceTap()) return; i=(i-1+SLIDES.length)%SLIDES.length; show(i); }

// --- Header buttons ---
document.getElementById("btnNext").addEventListener("click", ()=> next());
document.getElementById("btnPrev").addEventListener("click", ()=> prev());

// --- Keyboard fallback ---
window.addEventListener("keydown", e=>{
  if(e.key==='ArrowRight'||e.key===' '){ next(); }
  if(e.key==='ArrowLeft'){ prev(); }
});

/* =========================================================
  5) Boot
========================================================= */
front.src = SLIDES[0];
front.allow = back.allow = "camera; microphone; fullscreen";
front.setAttribute("sandbox","allow-same-origin allow-scripts allow-camera allow-modals allow-forms");
back.setAttribute("sandbox","allow-same-origin allow-scripts allow-camera allow-modals allow-forms");
idxEl.textContent = `1 / ${SLIDES.length}`;
</script>
</body>
</html>
