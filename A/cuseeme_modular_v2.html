<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>CUSeeMe Modular v2 â€” Neumorphic Semantic System</title>
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="../css/neumorphic.css">
  <link rel="stylesheet" href="../css/hud.css">
</head>
<body>
  <video id="cameraMain" autoplay muted playsinline></video>
  <div id="hudWrapper">
    <div id="hudShell">
      <div id="hudHeader">Mode &gt; Shift</div>
      <div class="hud-row">
        <button class="hud-btn" id="btnSpawn5">â• Spawn 5</button>
        <button class="hud-btn" id="btnReverseCam">ğŸ” Reverse Cam</button>
      </div>
      <div class="hud-row">
        <button class="hud-btn" id="btnVoice">ğŸ™ï¸ Voice</button>
        <button class="hud-btn" id="btnCloseAll">âœ• Close All</button>
      </div>
    </div>
  </div>
  <div id="ticker"></div>
  <div id="promptWrap">
    <div id="promptBox">
      <div id="caret"></div>
      <input id="input" type="text" placeholder="type hereâ€¦" spellcheck="false" autocomplete="off" />
    </div>
  </div>
  <script src="../js/core.js"></script>
  <script src="../js/hud.js"></script>
  <script src="../js/miniwindows.js"></script>
  <script src="../js/ticker.js"></script>
  <script src="../js/voice.js"></script>
  <script src="../js/semantic.js"></script>

  <!-- ğŸŸ¢ Bloople RSS Injection -->
<div id="rssSource" style="display:none;"></div>
<script src="//rss.bloople.net/?url=https%3A%2F%2Ffeeds.bbci.co.uk%2Fnews%2Fworld%2Frss.xml&showtitle=false&type=js"></script>

<!-- ğŸŸ¢ Semantic System -->
<script src="js/semantic.js"></script>

  <style>
/* Hide default Bloople RSS output */
#rssSource, #rssSource * {
  display: none !important;
}
</style>

<script>
// Pull headlines from Bloopleâ€™s injected HTML and feed them into ticker + voice
setTimeout(() => {
  const rssContainer = document.querySelector('body'); // Bloople injects directly into body
  const links = Array.from(rssContainer.querySelectorAll('a')).map(a => a.textContent);
  const ticker = document.getElementById('ticker');

  links.slice(0, 10).forEach((headline, i) => {
    setTimeout(() => {
      const line = document.createElement('div');
      line.textContent = headline;
      ticker.prepend(line);

      // Optional: speak the headline
      const utter = new SpeechSynthesisUtterance(headline);
      utter.lang = 'en-GB';
      utter.voice = speechSynthesis.getVoices().find(v => /en-GB|Angela/i.test(v.name)) || null;
      speechSynthesis.speak(utter);
    }, i * 5000);
  });
}, 2000);
</script>

  
</body>
</html>
